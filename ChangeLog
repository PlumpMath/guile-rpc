# do not edit -- automatically generated by arch changelog
# arch-tag: automatic-ChangeLog--lcourtes@laas.fr--2006-libre/guile-rpc--devo--0
#

2007-02-19 14:24:33 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-13

    Summary:
      Support size limits on vector types.
    Revision:
      guile-rpc--devo--0--patch-13

    * modules/rpc/rpc/types.scm (rpc-opaque-auth): Implement the 400-octet
      limit.
    
    * modules/rpc/xdr.scm (<xdr-vector-type>)[make-xdr-vector-type]: Taken an
      additional MAX-ELEMENT-COUNT argument.
      [max-element-count]: New field.
      (&xdr-vector-size-exceeded-error): New error condition.
      (%max-vector-size): New.
      (xdr-encode!): Check whether LEN exceeds the maximum possible size.
      (xdr-decode): Likewise.
    
    * modules/rpc/xdr/types.scm (make-xdr-variable-length-opaque-array): New.
    
    * tests/xdr-encoding.test: Updated callers of `make-xdr-vector-type'.
      Added new tests for the `&xdr-vector-size-exceeded-error' error.
    
    * tests/xdr.test: Updated callers of `make-xdr-vector-type'.

    modified files:
     ChangeLog modules/rpc/rpc/types.scm modules/rpc/xdr.scm
     modules/rpc/xdr/types.scm tests/xdr-encoding.test
     tests/xdr.test


2007-02-19 13:41:38 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-12

    Summary:
      Renamed `assert-accepted-reply' to `assert-successful-reply'.
    Revision:
      guile-rpc--devo--0--patch-12


    modified files:
     ChangeLog modules/rpc/rpc.scm tests/rpc.test


2007-02-19 13:39:27 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-11

    Summary:
      Translate RPC errors into SRFI-35 error conditions.
    Revision:
      guile-rpc--devo--0--patch-11

    * modules/rpc/rpc.scm: Use `srfi-3[45]'.
      (&rpc-error, &rpc-call-error, &rpc-invalid-reply-error,
      &rpc-invalid-reply-xid-error, &rpc-program-unavailable-error,
      &rpc-program-mismatch-error, &rpc-procedure-unavailable-error,
      &rpc-garbage-arguments-error, &rpc-system-error,
      &rpc-authentication-error): New error conditions.
      (make-rpc-accepted-reply-message): Fixed the `PROG_MISMATCH' case.
      (make-rpc-denied-reply-message): New.
      (assert-accepted-reply): Raise exceptions instead of using `error'.
    
    * tests/rpc.test: Use `srfi-34'.  New tests checking the exceptions
      raised in case of unsuccessful replies.

    modified files:
     ChangeLog modules/rpc/rpc.scm tests/rpc.test


2007-02-16 15:43:11 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-10

    Summary:
      Fixed file headers.
    Revision:
      guile-rpc--devo--0--patch-10


    modified files:
     ChangeLog modules/rpc/rpc.scm modules/rpc/rpc/transports.scm
     modules/rpc/rpc/types.scm modules/rpc/xdr.scm
     modules/rpc/xdr/types.scm tests/rpc.test
     tests/xdr-encoding.test tests/xdr.test


2007-02-16 15:39:06 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-9

    Summary:
      Added ONC RPC code base.
    Revision:
      guile-rpc--devo--0--patch-9

    * modules/Makefile.am (nobase_dist_guilemodule_DATA): Added new headers.
    
    * modules/rpc/rpc.scm: Added meat.
    
    * tests/Makefile.am (TESTS): Added `rpc.tests'.

    new files:
     modules/rpc/rpc/.arch-ids/=id modules/rpc/rpc/transports.scm
     modules/rpc/rpc/types.scm tests/rpc.test

    modified files:
     ChangeLog modules/Makefile.am modules/rpc/rpc.scm
     tests/Makefile.am

    new directories:
     modules/rpc/rpc modules/rpc/rpc/.arch-ids


2007-02-16 15:05:37 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-8

    Summary:
      xdr: Fixed empty variable-length opaque array decoding.
    Revision:
      guile-rpc--devo--0--patch-8

    * modules/rpc/xdr.scm (xdr-decode)[vector-padding]: Return 0 when COUNT
      is 0.
    
    * modules/rpc/xdr/types.scm (xdr-single-opaque): Check for EOF in the
      decoder.
    
    * tests/xdr-encoding.test (empty variable-length opaque array (without
      padding)): New test.

    modified files:
     ChangeLog modules/rpc/xdr.scm modules/rpc/xdr/types.scm
     tests/xdr-encoding.test


2007-02-16 08:53:07 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-7

    Summary:
      Properly handle padding of structs and vectors.
    Revision:
      guile-rpc--devo--0--patch-7

    * modules/rpc/xdr.scm (%xdr-atom-size, round-up-size): New.
      (make-xdr-struct-type): Handle PADDING.
      (xdr-type-size): Round up the size of structs and vectors.
      (xdr-encode!): Likewise.
      (xdr-decode)[vector-padding]: New.
      Read padding for vectors and structs.
    
    * tests/xdr-encoding.test: New tests for padding.
    
    * tests/xdr.test: Likewise.

    modified files:
     ChangeLog modules/rpc/xdr.scm tests/xdr-encoding.test
     tests/xdr.test


2007-02-15 16:30:07 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-6

    Summary:
      Use ports instead of bytevectors for XDR decoding.
    Revision:
      guile-rpc--devo--0--patch-6

    * modules/rpc/xdr.scm: Autoload `(r6rs i/o ports)'.
      (xdr-decode): Take TYPE and PORT instead of BV, INDEX and TYPE.
    
    * modules/rpc/xdr/types.scm: Use `(r6rs i/o ports)'.  Updated basic type
      decoders.
      (%void, xdr-void): New.
    
    * tests/xdr-encoding.test: Use `(r6rs i/o ports)'.  Updated tests.  Added
      two tests for `xdr-void'.

    modified files:
     ChangeLog modules/rpc/xdr.scm modules/rpc/xdr/types.scm
     tests/xdr-encoding.test


2007-02-15 14:43:33 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-5

    Summary:
      Return discriminant/value pairs when decoding unions.
    Revision:
      guile-rpc--devo--0--patch-5

    * modules/rpc/xdr.scm (xdr-decode!): Return a discriminant/value pairs
      for unions instead of just the value.
    
    * tests/xdr-encoding.test: Updated accordingly.

    modified files:
     ChangeLog modules/rpc/xdr.scm tests/xdr-encoding.test


2007-02-14 14:45:59 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-4

    Summary:
      xdr: Added support for booleans.
    Revision:
      guile-rpc--devo--0--patch-4

    * modules/rpc/xdr/types.scm (xdr-boolean): New.
    
    * tests/xdr-encoding.test: New test.

    modified files:
     ChangeLog modules/rpc/xdr/types.scm tests/xdr-encoding.test


2007-02-14 14:36:46 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-3

    Summary:
      xdr: Added support for unions.
    Revision:
      guile-rpc--devo--0--patch-3

    * modules/rpc/xdr.scm (<xdr-union-type>): New.
      (&xdr-union-discriminant-error): New.
      (make-xdr-union-type): New.
      (make-xdr-struct-type): Handle unions.
      (xdr-types-size): Likewise.
      (xdr-encode!): Likewise.
      (xdr-decode): Likewise.
    
    * tests/xdr-encoding.test: New tests.
    
    * tests/xdr.test: Likewise.

    modified files:
     ChangeLog modules/rpc/xdr.scm tests/xdr-encoding.test
     tests/xdr.test


2007-02-14 13:04:46 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-2

    Summary:
      xdr: Use proper SRFI-35 error conditions.
    Revision:
      guile-rpc--devo--0--patch-2

    * configure.ac: Check for `srfi-34' and `srfi-35'.
    
    * modules/rpc/xdr.scm: Load `srfi-34' and `srfi-35'.  Export the new
      error condition types and accessors.  Use them.
    
    * modules/rpc/xdr/types.scm: Likewise.
    
    * tests/xdr-encoding.test: Test type errors with enumeration
      encoding/decoding.

    modified files:
     ChangeLog configure.ac modules/rpc/xdr.scm
     modules/rpc/xdr/types.scm tests/xdr-encoding.test


2007-02-14 09:50:33 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-1

    Summary:
      Moved XDR types to a separate module; prepended `make-' to XDR type ctors.
    Revision:
      guile-rpc--devo--0--patch-1


    new files:
     modules/rpc/xdr/.arch-ids/=id modules/rpc/xdr/types.scm

    modified files:
     ChangeLog modules/rpc/xdr.scm tests/xdr-encoding.test
     tests/xdr.test

    new directories:
     modules/rpc/xdr modules/rpc/xdr/.arch-ids


2007-02-14 09:33:31 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	base-0

    Summary:
      initial import
    Revision:
      guile-rpc--devo--0--base-0

    
    (automatically generated log message)

    new files:
     AUTHORS COPYING ChangeLog INSTALL Makefile.am NEWS README
     configure.ac modules/Makefile.am modules/rpc/rpc.scm
     modules/rpc/xdr.scm modules/srfi/srfi-64.scm
     modules/srfi/srfi-64.upstream.scm tests/Makefile.am
     tests/xdr-encoding.test tests/xdr.test


